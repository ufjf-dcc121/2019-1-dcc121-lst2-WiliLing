<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exercicio da Lista 2.2</title>
    <style>

        form{
            margin:1px 1px 1px 1px;
        }
        label>span{
            float:left;
            width: 100px;
        }
        .animais{
            margin: 1px;
            width: 300px;
        }
        .animais th,td{
            border:dotted 1px rgb(255,0,0);
        }

    </style>
</head>
<body>
        <h1>Animais - Características e Curiosidades</h1>
        <form name="formulario">
            <div>
                <label>
                    <span>Animal:</span>
                    <input type="text" name="nome" required>
                </label>
            </div>
            <div>
                <label>
                    <span>Altura:</span>
                    <input type="number" step="any" min="0" name="altura" required>
                </label>
            </div>
            <div>
                <label>
                    <span>Peso: </span>
                    <input type="number" step="any" min="0" name="peso" required>
                </label>
            </div>
            <div>
                <label>
                    <span>Velocidade:</span>
                    <input type="number" step="any" min="0" name="velocidade" required>
                </label>
            </div>
            <div>
                <label>
                    <span> Idade maxima:</span>
                    <input type="number" step="any" min="0" name="idadeMax" required>
                </label>
            </div>
            <div id="botao">
                <input class="botao" type="submit" value="Inserir" required>
            </div>
        </form>
        <table class="animais"> 
                <thead>
                    <tr>
                        <th>Animal</th>
                        <th>Altura</th>
                        <th>Peso</th>
                        <th>Velocidade</th>
                        <th>Idade maxima</th>
                    </tr>
                </thead>
                <refCorpo></refCorpo>
                <tfoot>
                    <tr>
                        <td>Média:</td>
                        <td id="refAltura"></td>
                        <td id="refPeso"></td>
                        <td id="refVelocidade"></td>
                        <td id="refIdadeMax"></td>
                    </tr>
                </tfoot>
            </table>
            <ol type="I">
                    <li>Mais p: <span id="p"></span></li>
                    <li>Mais a: <span id="a"></span></li>
                    <li>Mais longe: <span id="l"></span></li>   
                    <li>Mais v: <span id="v"></span></li>
                </ol>
                <p>Animas acima do peso: <span id="acima"></span></p>
</body>
<script>
    document.forms.formulario.addEventListener("submit",novAnimal);
    vetDados = [];
    var refAltura = 0;
    var refPeso = 0;
    var refVelocidade = 0;
    var refIdadeMax = 0;
    var tDAn = 0;
    function novAnimal(e){
        e.preventDefault();
        var refDados = document.forms.formulario;
        var velocidade = refDados.velocidade.value;
        var nome = refDados.nome.value;
        var refIdmax = document.getElementById("mIdademMax");
        var peso = refDados.peso.value;
        var refAltura = document.getElementById("mAltura");
        var altura = refDados.altura.value;
        var refCorpo = document.getElementsByTagName("refCorpo")[0];
        var idMax = refDados.idMax.value;
        var refPeso = document.getElementById("mPeso");
        var refVelocidade = document.getElementById("mVelocidade");
        refv = document.getElementById("v");
        refAlto = document.getElementById("a");
        refp = document.getElementById("p");
        refl = document.getElementById("l");
        novoTr = document.createElement("tr");
        newNom = document.createElement("td");
        newAlt = document.createElement("td");
        newPes = document.createElement("td");
        newVeloc = document.createElement("td");
        newIdade = document.createElement("td");

        newNom.innerText = nome;
        newAlt.innerText = altura;
        newPes.innerText = peso;
        newVeloc.innerText = velocidade; 
        newIdade.innerText = idadeMax;
        novoTr.appendChild(newNom);
        novoTr.appendChild(newAlt);
        novoTr.appendChild(newPes);
        novoTr.appendChild(newVeloc);
        novoTr.appendChild(newIdade);
        tbody.appendChild(novoTr);

        vetDados.push({nome:nome,altura:altura,peso:peso,velocidade:velocidade,idadeMax:idadeMax});
        var a=0,p=0,v=0,l=0;
        for (var i = 0; i < vetDados.length; i++) {
            refAltura += Number(vetDados[i].altura);
            refPeso += Number(vetDados[i].peso);
            refVelocidade += Number(vetDados[i].velocidade);
            refIdmax += Number(vetDados[i].idadeMax);

            if(vetDados[i].altura>vetDados[a].altura) a=i;
            if(vetDados[i].peso>vetDados[p].peso) p=i;
            if(vetDados[i].velocidade>vetDados[v].velocidade) v=i;
            if(vetDados[i].idadeMax>vetDados[l].idadeMax) l=i;
        }

        refAltura.innerText = mAltura/vetorDeDados.length;
        refp.innerText = mPeso/vetorDeDados.length;
        refVelocidade.innerText = mVelocidade/vetorDeDados.length;
        refIdmax.innerText = mIdademMax/vetorDeDados.length;

        refAlto.innerText = vetorDeDados[a].nome;
        refPeso.innerText = vetorDeDados[p].nome;
        refVelocidade.innerText = vetorDeDados[v].nome;
        refl.innerText = vetorDeDados[l].nome;
    }
</script>
</html>